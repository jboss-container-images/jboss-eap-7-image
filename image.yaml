schema_version: 1

name: "jboss-eap-7/eap-online"
description: "Red Hat JBoss Enterprise Application Platform Online releases are intended to be Technology Preview - The JBoss EAP Online OpenShift container image is provided as technology preview. It is intended for development use only. It should NOT be deployed on production or in environments that are not intended for development use."
version: "12.0"
from: "jboss/openjdk18-rhel7:1.1"
labels:
    - name: "org.jboss.product"
      value: "eap"
    - name: "org.jboss.product.version"
      value: "7.2.0"
    - name: "org.jboss.product.eap.version"
      value: "7.2.0"
    - name: "com.redhat.deployments-dir"
      value: "/opt/eap/standalone/deployments"
    - name: "com.redhat.dev-mode"
      value: "DEBUG:true"
      description: "Environment variable used to enable development mode (debugging). A value of true will enable development mode."
    - name: "com.redhat.dev-mode.port"
      value: "DEBUG_PORT:8787"
      description: "Environment variable used to specify the debug port. If not set, the default EAP debug port will be used (8787). Only applicable when development mode is enabled."
envs:
    - name: "LAUNCH_JBOSS_IN_BACKGROUND"
      value: "true"
    - name: "JBOSS_PRODUCT"
      value: "eap"
    - name: "JBOSS_EAP_VERSION"
      value: "7.2.0-online"
    - name: "PRODUCT_VERSION"
      value: "12.0"
    - name: "JBOSS_HOME"
      value: "/opt/eap"
    - name: "DEBUG"
      example: "true"
      description: "Specify true to enable development mode (debugging)."
    - name: "DEBUG_PORT"
      example: "8787"
      description: "Specify the port to use for debugging. If not set, the default EAP debug port will be used (8787).  Only applicable when development mode is enabled."
ports:
    - value: 8080
    - value: 8787
      expose: false
modules:
      repositories:
          - path: modules
      install:
          - name: eap-online
artifacts:
    - path: jboss-eap-7.2.0.EL12.CR1-20180228.zip
      md5:  5d4de36a82f72b42af8c5d65027ce7eb
run:
      user: 185
      cmd:
          - "/opt/eap/bin/standalone.sh"
          - "-b"
          - "0.0.0.0"
osbs:
      repository:
            name: containers/jboss-eap-7
            branch: jb-eap-7.2-online-rhel-7
