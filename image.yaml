schema_version: 1

name: "jboss-eap-7-tech-preview/eap72-el12-openshift"
description: "EAP 7.2 EL releases are intended to be Technology Preview - The JBoss EAP 7.2 EL12 OpenShift container image is provided as technology preview. It is intended for development use only. It should NOT be deployed on production or in environments that are not intended for development use."
version: "1.0"
from: "jboss/openjdk18-rhel7:1.1"
labels:
    - name: "org.jboss.product"
      value: "eap"
    - name: "org.jboss.product.version"
      value: "7.2.0.EL"
    - name: "org.jboss.product.eap.version"
      value: "7.2.0.EL"
    - name: "com.redhat.deployments-dir"
      value: "/opt/eap/standalone/deployments"
    - name: "com.redhat.dev-mode"
      value: "DEBUG:true"
      description: "Environment variable used to enable development mode (debugging). A value of true will enable development mode."
    - name: "com.redhat.dev-mode.port"
      value: "DEBUG_PORT:8787"
      description: "Environment variable used to specify the debug port. If not set, the default EAP debug port will be used (8787). Only applicable when development mode is enabled."
envs:
    - name: "LAUNCH_JBOSS_IN_BACKGROUND"
      value: "true"
    - name: "JBOSS_PRODUCT"
      value: "eap"
    - name: "JBOSS_EAP_VERSION"
      value: "7.2.0.EL"
    - name: "JBOSS_EAP_LIVE_VERSION"
      value: "12"
    - name: "PRODUCT_VERSION"
      value: "EL12"
    - name: "JBOSS_HOME"
      value: "/opt/eap"
    - name: "DEBUG"
      example: "true"
      description: "Specify true to enable development mode (debugging)."
    - name: "DEBUG_PORT"
      example: "8787"
      description: "Specify the port to use for debugging. If not set, the default EAP debug port will be used (8787).  Only applicable when development mode is enabled."
ports:
    - value: 8080
    - value: 8787
      expose: false
modules:
      repositories:
          - path: modules
      install:
          - name: eap-live
artifacts:
    - path: jboss-eap-live-12.zip
      md5:  677d3a6b2fea10648cecc5ac002c34cd
run:
      user: 185
      cmd:
          - "/opt/eap/bin/standalone.sh"
          - "-b"
          - "0.0.0.0"
osbs:
      repository:
            name: jboss-eap-7-tech-preview
            branch: jb-eap-el12

